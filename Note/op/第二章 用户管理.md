## 创建与删除用户

### 创建用户
`useradd [命令参数] 参数`

常见命令参数：

- -d<登入目录>：指定用户登入时的启始目录；
- -D：查看或变更预设值；
- -g<群组>：指定用户所属的群组；
- -m：自动建立用户的登入目录；
- -M：不要自动建立用户的登入目录；
- -s：指定用户登入后所使用的`shell`。

### 删除用户
`userdel [命令参数] 参数`

常见命令参数：

- -f：强制删除用户，即使用户当前已登录；
- -r：删除用户的同时，删除与用户相关的所有文件。

## 用户密码管理

### 密码存放
用户的登录密码是存放在`/etc/shadow`文件中。

其中密码是加密过后的密码。

如果第一个冒号和第二个冒号之间是`*`或者`!`或者空，则表示该用户没有密码

### 修改密码

#### passwd
`passwd [命令参数] 参数`

常见命令参数：

- -d 删除密码；
- -l 停止账号使用；
- -S 显示密码信息。

```
pass -d test
删除test用户密码

```

#### chpasswd

## 用户权限切换

查看当前用户名：`whoami`
### `login`登录

`login [命令参数] 参数`

参数为登录的用户名，可以不输入登录的用户名，直接输入`login`命令后回车，然后根据提示再输入用户名和密码。

**常见命令参数**

- -p：告诉login指令不销毁环境变量；
- -h：指定远程服务器的主机名。

### `su`切换用户

`su [命令参数] 参数`

参数为登录的用户名，如果没有参数，则默认切换为`root`用户。

**常见命令参数**

- `-c<指令>`或`--command=<指令>`：执行完指定的指令后，即恢复原来的身份；
- `-l`或`--login`：改变身份时，也同时变更工作目录，以及`HOME`,`SHELL`,`USER`,`logname`。此外，也会变更PATH变量；
- `-m`,`-p`或`--preserve-environment`：变更身份时，不要变更环境变量；
- `-s<shell>`或`--shell=<shell>`：指定要执行的`shell`。

## 创建/删除用户组

### 创建用户组

`groupadd [命令参数] 参数`

常见命令参数：

- -g：指定新建工作组的id；
- -r：创建系统工作组，系统工作组的组 ID 小于 500；

`sudo groupadd -g 1111 testGroip` 创建 ID 为 1111 的用户组

`Linux` 中用户组信息是保存在 `/etc/group` 文件中

### 删除用户组
`groupdel 参数`

参数为要删除的用户组名

## 用户所属组变更

### 查看用户所属组

#### 使用 `id` 查看
`id [命令参数] 参数`

参数为要查询的用户名，默认是当前登录用户。

常见命令参数：

- `-g或--group`：显示用户所属群组的`ID`；
- `-G或--groups`：显示用户所属附加群组的`ID`；
- `-n或--name`：显示用户，所属群组或附加群组的名称。

#### 使用 `group` 查看
`roups 参数`

参数为要查询的用户名，默认是当前登录用户。

### 修改用户所属组

#### 使用 usermod 命令

如果要一个用户仅仅属于某一个组，而不是同时属于多个组，则使用如下命令：

命令格式：`usermod -g 组名 用户名`

如果要给一个用户添加一个新的组，同时保留原来有所的组，则使用如下命令：

命令格式：`usermod -a -G 组名 用户名`


#### 使用 useradd 命令

在创建新用户的同时可以修改默认用户所属组，如果想在创建的时候直接将用户所属组修改成系统中已经存在的一个组，而不是使用默认私有组，则使用如下命令：

命令格式：`useradd -g 组名 用户名`

在创建新用户的同时可以为用户添加其它组，如果想在创建新用户的时候为用户添加一个已经存在的组，而不仅只属于默认创建的私有组，则使用如下命令：

命令格式：`useradd -G 组名 用户名`

## 用户/用户组编辑


### 查看用户属性命令

用户的信息存放在 `/etc/passwd`

### 用户信息修改

`usermod [命令参数] 参数`

常见命令参数：

- -c<备注>：修改用户帐号的备注文字；
- -d<登入目录>：修改用户登入时的目录；
- -e<有效期限>：修改帐号的有效期限；
- -f<缓冲天数>：修改在密码过期后多少天即关闭该帐号；
- -g<群组>：修改用户所属的群组；
- -G<群组>；修改用户所属的附加群组；
- -l<帐号名称>：修改用户帐号名称；
- -L：锁定用户密码，使密码无效；
- -s：修改用户登入后所使用的`shell`；
- -u：修改用户`ID`；
- -U: 解除密码锁定。

### 用户组信息修改命令

`groupmod [命令参数] 参数`

常见命令参数：

- -g<群组识别码>：设置欲使用的群组识别码；
- -n<新群组名称>：设置欲使用的群组名称。

